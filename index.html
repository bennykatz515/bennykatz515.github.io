<!doctype html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Car World Colosseum</title>
<link rel="icon" href="/favicon.png">
<style>
  :root{--bg:#0e0f11;--text:#e8eaed;--muted:#a9acb3;--line:rgba(255,255,255,.08);--card:rgba(255,255,255,.05)}
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:radial-gradient(900px 500px at 100% -10%,rgba(27,85,106,.25),transparent 60%),radial-gradient(900px 500px at -10% 110%,rgba(110,34,69,.22),transparent 60%),var(--bg);color:var(--text);font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}
  header{position:sticky;top:0;z-index:10;background:transparent;text-align:center;padding:24px 16px}
  h1{margin:0;font-size:clamp(28px,5vw,44px);font-weight:800;letter-spacing:.2px}

  /* horizontal gallery */
  .stage{position:relative;overflow:hidden;padding:28px 0}
  #belt{display:flex;will-change:transform}
  .slide{flex:0 0 auto;margin-right:24px;border:1px solid var(--line);border-radius:18px;overflow:hidden;background:var(--card);box-shadow:0 10px 40px rgba(0,0,0,.35)}
  .slide img{display:block;height:clamp(220px,60svh,620px);width:auto}

  /* nav buttons */
  .controls{position:absolute;inset:0;pointer-events:none}
  .btn{position:absolute;top:50%;transform:translateY(-50%);width:44px;height:44px;border-radius:999px;border:1px solid var(--line);background:rgba(255,255,255,.12);backdrop-filter:blur(6px);color:#fff;font-size:22px;line-height:44px;text-align:center;cursor:pointer;pointer-events:auto}
  .btn:hover{background:rgba(255,255,255,.18)}
  .btn.prev{left:10px} .btn.next{right:10px}

  footer{border-top:1px solid var(--line);margin-top:24px}
  .foot{height:72px;display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:.92rem}
  .foot a{color:var(--text);text-decoration:none;border-bottom:1px dotted var(--line)}
</style>
<body>
  <header><h1>Car World Colosseum</h1></header>
  <main>
    <section class="stage">
      <div id="belt"></div>
      <div class="controls">
        <button class="btn prev" aria-label="Previous">‹</button>
        <button class="btn next" aria-label="Next">›</button>
      </div>
    </section>
  </main>
  <footer>
    <div class="foot">contact: <a href="mailto:attendant@carworldcolosseum.com" style="margin-left:.4rem">attendant@carworldcolosseum.com</a></div>
  </footer>

<script>
(function(){
  // images to include (exclude MagwadiExample.png and favicon)
  const sources = ['WilliamIsHungry.png','CitadelBathDay.png','Sew.jpg','FavorSketch.jpg'];
  const belt = document.getElementById('belt');

  // seed belt: repeat to fill ~3× viewport width for a seamless loop
  const repeats = 6; // 4 images × 6 = 24 slides
  for(let i=0;i<repeats*sources.length;i++){
    const src = sources[i % sources.length];
    const a = document.createElement('a');
    a.href = src; a.target = '_blank'; a.className='slide';
    const img = document.createElement('img');
    img.src = src; img.alt = ''; img.loading='lazy'; img.decoding='async';
    a.appendChild(img); belt.appendChild(a);
  }

  let offset = 0, speed = 0.6, raf;
  const stage = document.querySelector('.stage');
  function slideW(){
    const first = belt.children[0]; if(!first) return 0;
    const styles = getComputedStyle(first);
    return first.getBoundingClientRect().width + parseFloat(styles.marginRight||0);
  }
  function loop(){
    offset -= speed; belt.style.transform = 'translateX('+offset+'px)';
    const w = slideW();
    if (w && -offset >= w){ belt.appendChild(belt.children[0]); offset += w; belt.style.transform = 'translateX('+offset+'px)'; }
    raf = requestAnimationFrame(loop);
  }
  stage.addEventListener('mouseenter', ()=> speed = 0);
  stage.addEventListener('mouseleave', ()=> speed = 0.6);
  loop();

  // buttons
  const prev = document.querySelector('.btn.prev');
  const next = document.querySelector('.btn.next');
  function anim(to,done){
    const start = performance.now(); const from = parseFloat((belt.style.transform||'translateX(0px)').replace(/[^-\d.]/g,''))||0; const d = to - from; const T = 220;
    function tick(t){ const k=Math.min(1,(t-start)/T), e=k<.5?2*k*k:1-Math.pow(-2*k+2,2)/2; belt.style.transform='translateX('+(from+d*e)+'px)'; if(k<1) requestAnimationFrame(tick); else done&&done(); }
    requestAnimationFrame(tick);
  }
  next.onclick = ()=>{ const w=slideW(); if(!w) return; cancelAnimationFrame(raf); anim(-w,()=>{ belt.appendChild(belt.children[0]); belt.style.transform='translateX(0px)'; loop(); }); };
  prev.onclick = ()=>{ const w=slideW(); if(!w) return; cancelAnimationFrame(raf); belt.insertBefore(belt.lastElementChild, belt.firstElementChild); belt.style.transform='translateX('+-w+'px)'; anim(0,()=>{ loop(); }); };
})();
</script>
</body>
</html>
